test5    START   0x1000
first    J       begin
five     WORD    5
xxx      RESW    1
begin    LDA     #0
         LDX     #0
loop     JSUB    getc
         RMO     A,S
         SHIFTL  S,4
         JSUB    getc
         ADDR    S,A
         STCH    exaddr,X
         TIXR    X
         J       loop
getc     STX     temp
         LDX     incnt
         LDA     incnt
         ADD     one
         STA     incnt
         LDCH    indev,X
         COMP    eof
         JEQ     exaddr
         COMP    48
         JLT     getc
         SUB     48
         COMP    #10
         JLT     return
         SUB     #7
return   LDX     temp
         RSUB    
one      WORD    1
eof      WORD    63
temp     RESW    1
incnt    WORD    0
indev    BYTE    C'0010030C1006'
         BYTE    C'000005FFFFFF?'
exaddr   RESB    12
         END     first